<?xml version="1.0" encoding="UTF-8" ?>

<launch>
  <arg name="mode" default="$(env MOVEL_MODE)" doc="mode: [deployment, development]"/>
  
  <group if="$(eval mode == 'deployment')">
    
    <rosparam file="$(find hdl_global_localization)/config/general_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/bbs_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/fpfh_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/ransac_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/teaser_config.yaml" ns="/hdl_global_localization" command="load" />

    <rosparam file="$(env HOME)/.config/movel/config/3dpipeline/hdl_global_localization/config/general_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(env HOME)/.config/movel/config/3dpipeline/hdl_global_localization/config/bbs_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(env HOME)/.config/movel/config/3dpipeline/hdl_global_localization/config/fpfh_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(env HOME)/.config/movel/config/3dpipeline/hdl_global_localization/config/ransac_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(env HOME)/.config/movel/config/3dpipeline/hdl_global_localization/config/teaser_config.yaml" ns="/hdl_global_localization" command="load" />

    <node pkg="hdl_global_localization" type="hdl_global_localization_node" name="hdl_global_localization" output="screen" >
      <remap from="/globalmap" to="/map_3d" />
    </node>

  </group>

  <group unless="$(eval mode == 'deployment')">

    <rosparam file="$(find hdl_global_localization)/config/general_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/bbs_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/fpfh_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/ransac_config.yaml" ns="/hdl_global_localization" command="load" />
    <rosparam file="$(find hdl_global_localization)/config/teaser_config.yaml" ns="/hdl_global_localization" command="load" />

    <node pkg="hdl_global_localization" type="hdl_global_localization_node" name="hdl_global_localization" output="screen" >
      <remap from="/globalmap" to="/map_3d" />
    </node>

  </group>
  
</launch>
